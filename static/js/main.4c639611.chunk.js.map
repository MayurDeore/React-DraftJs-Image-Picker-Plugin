{"version":3,"sources":["logo.svg","Editor/MediaPicker.js","Editor/DraftEditor.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","MediaPicker","props","updateFileList","fileList","setState","loadImages","imageLoadFunction","then","res","files","error","openPlaceholderDropdown","open","state","imageSelected","file","selected","onWidthChange","e","width","currentTarget","value","onHeightChange","height","insertImage","editorState","onChange","contentBlock","htmlToDraft","contentState","getCurrentContent","entityMap","forEach","key","mergeEntityData","Modifier","replaceWithFragment","getSelection","List","contentBlocks","EditorState","push","this","onClick","className","aria-label","src","alt","length","map","style","color","class","name","placeholder","disabled","Component","cdnLink","DraftEditor","Promise","resolve","reject","xhr","XMLHttpRequest","send","onload","status","JSON","parse","response","console","log","statusText","onEditorStateChange","ContentState","createFromBlockArray","createWithContent","toolbarClassName","wrapperClassName","editorClassName","toolbarCustomButtons","App","Boolean","window","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"+LAAAA,EAAOC,QAAU,IAA0B,kC,kPCatBC,G,0BAEjB,WAAYC,GAAQ,IAAD,8BACf,4CAAMA,KAYVC,eAAiB,SAACC,GACd,EAAKC,SAAS,CACVD,cAfW,EAoBnBE,WAAa,WACT,IACI,EAAKJ,MAAMK,oBAAoBC,MAAK,SAAAC,GAChC,EAAKJ,SAAS,CACVD,SAAUK,EAAIC,WAGxB,MAAOC,GAIL,MAHA,EAAKN,SAAS,CACVM,MAAO,mCAELA,IA/BK,EAyCnBC,wBAA0B,kBAAM,EAAKP,SAAS,CAAEQ,MAAO,EAAKC,MAAMD,QAzC/C,EA8CnBE,cAAgB,SAACC,GACb,EAAKX,SAAS,CACVY,SAAUD,KAhDC,EAoDnBE,cAAgB,SAACC,GACb,EAAKd,SAAS,CACVe,MAAOD,EAAEE,cAAcC,SAtDZ,EAyDnBC,eAAiB,SAACJ,GACd,EAAKd,SAAS,CACVmB,OAAQL,EAAEE,cAAcC,SA3Db,EA8DnBG,YAAc,WAAO,IAAD,EACoB,EAAKX,MAAjCG,EADQ,EACRA,SAAUG,EADF,EACEA,MAAOI,EADT,EACSA,OADT,EAEkB,EAAKtB,MAA/BwB,EAFQ,EAERA,YAAaC,EAFL,EAEKA,SAEfC,EAAeC,IAAY,oBAAD,OAAqBZ,EAArB,2BAA+CG,EAA/C,qBAAiEI,EAAjE,kBAC5BM,EAAeJ,EAAYK,oBAC/BH,EAAaI,UAAUC,SAAQ,SAACX,EAAOY,GACnCJ,EAAeA,EAAaK,gBAAgBD,EAAKZ,MAErDQ,EAAeM,WAASC,oBACpBP,EACAJ,EAAYY,eACZ,IAAIC,OAAKX,EAAaY,gBAE1Bb,EAASc,cAAYC,KAAKhB,EAAaI,EAAc,kBA1ErD,EAAKhB,MAAQ,CACTD,MAAM,EACNT,SAAU,GACVa,SAAU,GACVG,MAAO,OACPI,OAAQ,OACRb,MAAO,IAEX,EAAKL,aAVU,E,sEA+ET,IAAD,SAC0BqC,KAAK7B,MAA5BV,EADH,EACGA,SAAUa,EADb,EACaA,SAClB,OACI,oCACI,yBAAK2B,QAASD,KAAK/B,wBAAyBiC,UAAU,oBAAoBC,aAAW,qBACjF,yBAAKD,UAAU,qBAAqBC,aAAW,gBAC3C,yBAAKC,IAAI,qrCAAqrCC,IAAI,OAI1sC,yBAAKH,UAAS,iCAA4BF,KAAK7B,MAAMD,KAAO,OAAS,SAEjE,yBAAKgC,UAAU,yBACVzC,GAAYA,EAAS6C,OAAS,EAC3B,oCACK7C,EAAS8C,KAAI,SAAAlC,GACV,OACI,yBAAK6B,UAAS,0BAAsB5B,GAAYD,EAAQ,SAAW,KAC/D,yBAAK+B,IAAK/B,EAAM4B,QAAS,kBAAM,EAAK7B,cAAcC,WAQhE2B,KAAK7B,MAAMH,MAAQ,0BAAMwC,MAAO,CAAEC,MAAO,QACtCT,KAAK7B,MAAMH,OACN,sCAGlB,yBAAKkC,UAAU,2BAEX,yBAAKQ,MAAM,wBAAX,aAEA,2BAAOC,KAAK,SAASD,MAAM,6BAA6B1B,SAAUgB,KAAKpB,eAAgBgC,YAAY,SAASjC,MAAOqB,KAAK7B,MAAMU,SAC1H,0BAAM6B,MAAM,4BAAZ,KAHJ,iBAII,2BAAOC,KAAK,QAAQD,MAAM,6BAA6B1B,SAAUgB,KAAKzB,cAAeqC,YAAY,QAAQjC,MAAOqB,KAAK7B,MAAMM,QAC3H,0BAAMiC,MAAM,4BAAZ,MAIJ,4BAAQR,UAAU,yBAAyBD,QAASD,KAAKlB,YACrD+B,SAAWvC,EAAwB,GAAb,YAD1B,c,GA3HiBwC,cCJnCC,G,OAAU,0BAEKC,E,YAEjB,WAAYzD,GAAQ,IAAD,uBACf,4CAAMA,KAYVK,kBAAoB,WAEhB,OAAO,IAAIqD,SAAQ,SAACC,EAASC,GACzB,IAAIC,EAAM,IAAIC,eACdD,EAAIlD,KAAK,MAAO,oCAChBkD,EAAIE,OACI,eACRF,EAAIG,OAAS,WACT,GAAkB,KAAdH,EAAII,OAED,CACH,IAAI/D,EAAWgE,KAAKC,MAAMN,EAAIO,UAI9B,OAHAlE,EAAWA,EAAS8C,KAAI,SAAAlC,GACpB,OAAO0C,EAAU1C,KAEd6C,EAAQ,CACXnD,MAAON,IAPXmE,QAAQC,IAAR,gBAAqBT,EAAII,OAAzB,aAAoCJ,EAAIU,kBAtBrC,EAqCnBC,oBAAsB,SAAChD,GACnB,EAAKrB,SAAS,CACVqB,iBArCJ,IACME,EAAeC,IADR,8DAEb,GAAID,EAAc,CACd,IAAME,EAAe6C,eAAaC,qBAAqBhD,EAAaY,eAC9Dd,EAAce,cAAYoC,kBAAkB/C,GAClD,EAAKhB,MAAQ,CACTY,eARO,S,sEA2CT,IACMA,EAAgBiB,KAAK7B,MAArBY,YACR,OAAS,6BAEL,kBACA,SADA,CACOA,YAAgBA,EACvBoD,iBAAmB,mBACnBC,iBAAmB,mBACnBC,gBAAkB,kBAClBN,oBAAwB/B,KAAK+B,oBAC7BO,qBACI,CAAE,kBAAE,EAAF,CAAc1E,kBAAsBoC,KAAKpC,4B,GAxDtBkD,aCG1ByB,MATf,WACE,OACE,oCACE,kBAAC,EAAD,QCIcC,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2DCZNC,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,SD2H3C,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMtF,MAAK,SAAAuF,GACjCA,EAAaC,kB","file":"static/js/main.4c639611.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.25bf045c.svg\";","import React, { Component } from 'react'\r\n\r\nimport PropTypes from 'prop-types';\r\n\r\nimport htmlToDraft from 'html-to-draftjs';\r\nimport { EditorState, Modifier } from 'draft-js';\r\nimport { List } from 'immutable';\r\nimport './MediaPicker.css';\r\nimport { file } from '@babel/types';\r\n\r\n\r\n\r\n\r\nexport default class MediaPicker extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            open: false,\r\n            fileList: [],\r\n            selected: \"\",\r\n            width: \"auto\",\r\n            height: \"auto\",\r\n            error: \"\"\r\n        }\r\n        this.loadImages();\r\n    }\r\n\r\n    updateFileList = (fileList) => {\r\n        this.setState({\r\n            fileList\r\n        })\r\n\r\n    }\r\n\r\n    loadImages = () => {\r\n        try {\r\n            this.props.imageLoadFunction().then(res => {\r\n                this.setState({\r\n                    fileList: res.files\r\n                })\r\n            })\r\n        } catch (error) {\r\n            this.setState({\r\n                error: \"Image Load Function is invalid\"\r\n            })\r\n            throw error;\r\n        }\r\n\r\n    }\r\n    static propTypes = {\r\n        onChange: PropTypes.func,\r\n        editorState: PropTypes.object,\r\n    };\r\n\r\n\r\n    openPlaceholderDropdown = () => this.setState({ open: !this.state.open })\r\n\r\n\r\n\r\n\r\n    imageSelected = (file) => {\r\n        this.setState({\r\n            selected: file\r\n        })\r\n    }\r\n\r\n    onWidthChange = (e) => {\r\n        this.setState({\r\n            width: e.currentTarget.value\r\n        })\r\n    }\r\n    onHeightChange = (e) => {\r\n        this.setState({\r\n            height: e.currentTarget.value\r\n        })\r\n    }\r\n    insertImage = () => {\r\n        const { selected, width, height } = this.state;\r\n        const { editorState, onChange } = this.props;\r\n        debugger    \r\n        const contentBlock = htmlToDraft(`<p></p><img src='${selected}' style=\"width:${width}px;height:${height}px\" /><p></p>`);\r\n        let contentState = editorState.getCurrentContent();\r\n        contentBlock.entityMap.forEach((value, key) => {\r\n            contentState = contentState.mergeEntityData(key, value);\r\n        });\r\n        contentState = Modifier.replaceWithFragment(\r\n            contentState,\r\n            editorState.getSelection(),\r\n            new List(contentBlock.contentBlocks)\r\n        );\r\n        onChange(EditorState.push(editorState, contentState, \"insert-image\"));\r\n    }\r\n\r\n    render() {\r\n        const { fileList, selected } = this.state;\r\n        return (\r\n            <>\r\n                <div onClick={this.openPlaceholderDropdown} className=\"rdw-image-wrapper\" aria-label=\"rdw-image-control\">\r\n                    <div className=\"rdw-option-wrapper\" aria-label=\"rdw-dropdown\">\r\n                        <img src=\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUiIGhlaWdodD0iMTQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJNMTQuNzQxIDBILjI2Qy4xMTYgMCAwIC4xMzYgMCAuMzA0djEzLjM5MmMwIC4xNjguMTE2LjMwNC4yNTkuMzA0SDE0Ljc0Yy4xNDMgMCAuMjU5LS4xMzYuMjU5LS4zMDRWLjMwNEMxNSAuMTM2IDE0Ljg4NCAwIDE0Ljc0MSAwem0tLjI1OCAxMy4zOTFILjUxN1YuNjFoMTMuOTY2VjEzLjM5eiIvPjxwYXRoIGQ9Ik00LjEzOCA2LjczOGMuNzk0IDAgMS40NC0uNzYgMS40NC0xLjY5NXMtLjY0Ni0xLjY5NS0xLjQ0LTEuNjk1Yy0uNzk0IDAtMS40NC43Ni0xLjQ0IDEuNjk1IDAgLjkzNC42NDYgMS42OTUgMS40NCAxLjY5NXptMC0yLjc4MWMuNTA5IDAgLjkyMy40ODcuOTIzIDEuMDg2IDAgLjU5OC0uNDE0IDEuMDg2LS45MjMgMS4wODYtLjUwOSAwLS45MjMtLjQ4Ny0uOTIzLTEuMDg2IDAtLjU5OS40MTQtMS4wODYuOTIzLTEuMDg2ek0xLjgxIDEyLjE3NGMuMDYgMCAuMTIyLS4wMjUuMTcxLS4wNzZMNi4yIDcuNzI4bDIuNjY0IDMuMTM0YS4yMzIuMjMyIDAgMCAwIC4zNjYgMCAuMzQzLjM0MyAwIDAgMCAwLS40M0w3Ljk4NyA4Ljk2OWwyLjM3NC0zLjA2IDIuOTEyIDMuMTQyYy4xMDYuMTEzLjI3LjEwNS4zNjYtLjAyYS4zNDMuMzQzIDAgMCAwLS4wMTYtLjQzbC0zLjEwNC0zLjM0N2EuMjQ0LjI0NCAwIDAgMC0uMTg2LS4wOC4yNDUuMjQ1IDAgMCAwLS4xOC4xTDcuNjIyIDguNTM3IDYuMzk0IDcuMDk0YS4yMzIuMjMyIDAgMCAwLS4zNTQtLjAxM2wtNC40IDQuNTZhLjM0My4zNDMgMCAwIDAtLjAyNC40My4yNDMuMjQzIDAgMCAwIC4xOTQuMTAzeiIvPjwvZz48L3N2Zz4=\" alt=\"\" />\r\n                    </div>\r\n                </div>\r\n\r\n                <div className={`rdw-media-picker-modal ${this.state.open ? 'show' : 'hide'}`}>\r\n\r\n                    <div className=\"rdw-media-picker-body\">\r\n                        {fileList && fileList.length > 0 ?\r\n                            <>\r\n                                {fileList.map(file => {\r\n                                    return (\r\n                                        <div className={`rdw-image-block ${(selected == file) ? \"active\" : \"\"}`}>\r\n                                            <img src={file} onClick={() => this.imageSelected(file)} />\r\n                                        </div>\r\n                                    );\r\n                                })}\r\n\r\n\r\n\r\n                            </>\r\n                            : this.state.error ? <span style={{ color: \"red\" }}>\r\n                                {this.state.error}\r\n                            </span> : <></>}\r\n\r\n                    </div>\r\n                    <div className=\"rdw-media-picker-footer\">\r\n\r\n                        <div class=\"rdw-image-modal-size\">\r\n                            â†•&nbsp;\r\n                        <input name=\"height\" class=\"rdw-image-modal-size-input\" onChange={this.onHeightChange} placeholder=\"Height\" value={this.state.height} />\r\n                            <span class=\"rdw-image-mandatory-sign\">*</span>&nbsp;â†”&nbsp;\r\n                            <input name=\"width\" class=\"rdw-image-modal-size-input\" onChange={this.onWidthChange} placeholder=\"Width\" value={this.state.width} />\r\n                            <span class=\"rdw-image-mandatory-sign\">*</span>\r\n                        </div>\r\n\r\n\r\n                        <button className=\"rdw-embedded-modal-btn\" onClick={this.insertImage}\r\n                            disabled={!selected ? \"disabled\" : \"\"}>Add</button>\r\n                    </div>\r\n\r\n                </div>\r\n            </>\r\n        );\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport { Editor } from 'react-draft-wysiwyg';\r\nimport { EditorState, convertToRaw, ContentState } from 'draft-js';\r\nimport 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css';\r\nimport MediaPicker from './MediaPicker';\r\nimport draftToHtml from 'draftjs-to-html';\r\nimport htmlToDraft from 'html-to-draftjs';\r\n\r\n\r\nconst cdnLink = \"http://localhost:5000/\";\r\n\r\nexport default class DraftEditor extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        const html = '<p>Hey this <strong>editor</strong> rocks ðŸ˜€</p>';\r\n        const contentBlock = htmlToDraft(html);\r\n        if (contentBlock) {\r\n            const contentState = ContentState.createFromBlockArray(contentBlock.contentBlocks);\r\n            const editorState = EditorState.createWithContent(contentState);\r\n            this.state = {\r\n                editorState,\r\n            };\r\n        }\r\n    }\r\n\r\n    imageLoadFunction = () => {\r\n\r\n        return new Promise((resolve, reject) => {\r\n            let xhr = new XMLHttpRequest();\r\n            xhr.open('get', 'http://localhost:5000/directory/');\r\n            xhr.send();\r\n            let self = this;\r\n            xhr.onload = function() {\r\n                if (xhr.status != 200) { // analyze HTTP status of the response\r\n                    console.log(`Error ${xhr.status}: ${xhr.statusText}`); // e.g. 404: Not Found\r\n                } else { // show the result\r\n                    let fileList = JSON.parse(xhr.response);\r\n                    fileList = fileList.map(file => {\r\n                        return cdnLink + file;\r\n                    })\r\n                    return resolve({\r\n                        files: fileList\r\n                    })\r\n                }\r\n            };\r\n        })\r\n\r\n    }\r\n\r\n    onEditorStateChange = (editorState) => {\r\n        this.setState({\r\n            editorState,\r\n        });\r\n    };\r\n\r\n    render() {\r\n            const { editorState } = this.state;\r\n            return ( <\r\n                div >\r\n                <\r\n                Editor editorState = { editorState }\r\n                toolbarClassName = \"toolbarClassName\"\r\n                wrapperClassName = \"wrapperClassName\"\r\n                editorClassName = \"editorClassName\"\r\n                onEditorStateChange = { this.onEditorStateChange }\r\n                toolbarCustomButtons = {\r\n                    [ < MediaPicker imageLoadFunction = { this.imageLoadFunction }\r\n                        />]} / >\r\n                        <\r\n                        /div>\r\n                    )\r\n                }\r\n            }","import React from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport DraftEditor from './Editor/DraftEditor';\n\nfunction App() {\n  return (\n    <>\n      <DraftEditor />\n\n    </>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}